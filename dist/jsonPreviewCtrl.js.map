{"version":3,"sources":["../src/jsonPreviewCtrl.js"],"names":["JSONPreviewCtrl","$scope","$injector","$rootScope","templateSrv","panelCtrl","ctrl","panel","elem","ctx","editorTab","directiveFn","render","data","dataFnc","jdisplay","find","length","JsonEditor","defaultCollapsed","restrict","scope","templateUrl","controller"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACqBA,qB;AACnB,iCAAYC,MAAZ,EAAoBC,SAApB,EAA+BC,UAA/B,EAA2CC,WAA3C,EAAwD;AAAA;;AACtD,eAAKC,SAAL,GAAiBJ,OAAOK,IAAxB;AACAL,iBAAOK,IAAP,GAAc,IAAd;AACA,eAAKC,KAAL,GAAa,KAAKF,SAAL,CAAeE,KAA5B;AACA,eAAKC,IAAL,GAAY,KAAKH,SAAL,CAAeG,IAA3B;AACA,eAAKC,GAAL,GAAWR,OAAOS,SAAP,CAAiBC,WAAjB,EAAX;AACA,eAAKC,MAAL;AACD;;;;mCAEO;AACN,gBAAIC,OAAO,KAAKJ,GAAL,CAASK,OAAT,EAAX;AACA,gBAAIC,WAAW,KAAKP,IAAL,CAAUQ,IAAV,CAAe,eAAf,CAAf;AACAD,qBAASE,MAAT,IACI,IAAIC,UAAJ,CAAeH,QAAf,EAAyBF,IAAzB,EAA+B,EAAEM,kBAAkB,IAApB,EAA/B,CADJ;AAED;;;yCAEqBL,O,EAAS;AAC7B,mBAAO;AAAA,qBAAO;AACZM,0BAAU,GADE;AAEZC,uBAAO,IAFK;AAGZP,yBAASA,OAHG;AAIZQ,6BAAa,sDAJD;AAKZC,4BAAYvB;AALA,eAAP;AAAA,aAAP;AAOD;;;;;;yBAzBkBA,e","file":"jsonPreviewCtrl.js","sourcesContent":["\r\nexport default class JSONPreviewCtrl {\r\n  constructor($scope, $injector, $rootScope, templateSrv) {\r\n    this.panelCtrl = $scope.ctrl;\r\n    $scope.ctrl = this;\r\n    this.panel = this.panelCtrl.panel;\r\n    this.elem = this.panelCtrl.elem;\r\n    this.ctx = $scope.editorTab.directiveFn();\r\n    this.render();\r\n  }\r\n\r\n  render(){\r\n    var data = this.ctx.dataFnc();\r\n    var jdisplay = this.elem.find('.json-display');\r\n    jdisplay.length &&\r\n        new JsonEditor(jdisplay, data, { defaultCollapsed: true });\r\n  }\r\n\r\n  static buildDirective(dataFnc) {\r\n    return () => ({\r\n      restrict: 'E',\r\n      scope: true,\r\n      dataFnc: dataFnc,\r\n      templateUrl: 'public/plugins/grafana-echart-panel/jsonPreview.html',\r\n      controller: JSONPreviewCtrl,\r\n    });\r\n  }\r\n}\r\n"]}